---
/**
 * FAQ 섹션 (자주 묻는 질문)
 * @TASK P2-S1-T9
 * @SPEC docs/planning/06-screens.md#1.10-FAQ-섹션
 *
 * 기능:
 * - 섹션 헤더: "자주 묻는 질문"
 * - 6개 Q&A 아코디언
 * - 클릭 시 답변 토글
 */

const faqs = [
  {
    question: '일반 컨설팅 업체와 무엇이 다른가요?',
    answer: '새봄컨설팅은 관세사 자격을 가진 전문가가 직접 운영합니다. AI가 1차 문서를 생성하고, 관세사가 2차 검토하여 정확성을 보장합니다. 또한 전문가배상책임보험에 가입되어 있어 손해까지 보상받으실 수 있습니다.',
  },
  {
    question: 'AI가 만든 서류를 그대로 제출하나요?',
    answer: '아닙니다. AI는 초안 생성에만 사용되고, 모든 서류는 11년 경력의 전문 관세사가 직접 검토하고 수정합니다. AI는 속도를, 관세사는 정확성을 담당하는 이상적인 조합입니다.',
  },
  {
    question: '처리 기간은 얼마나 걸리나요?',
    answer: 'AI 자동화 덕분에 평균 30일 내 처리됩니다. 기존 업체의 60일 대비 50% 단축된 기간입니다. 단, 서류 준비 상태와 각 국가 기관의 심사 기간에 따라 달라질 수 있습니다.',
  },
  {
    question: '비용은 어떻게 책정되나요?',
    answer: 'FDA 인증 **만원, EU 통관 **만원, 일본 인증 **만원입니다. 추가 비용 없이 투명하게 안내드립니다. AI 자동화로 기존 업체 대비 50~70% 절감된 가격입니다.',
  },
  {
    question: '인증 실패하면 어떻게 되나요?',
    answer: '새봄컨설팅은 전문가배상책임보험에 가입되어 있습니다. 저희의 실수로 인한 손해가 발생할 경우 보상받으실 수 있습니다. 또한 인증 실패 시 무료로 재신청을 도와드립니다.',
  },
  {
    question: '어떤 국가를 지원하나요?',
    answer: '현재 미국(FDA), 유럽연합(EU), 일본을 지원합니다. 그 외 국가도 문의하시면 검토 후 안내드립니다. 각 국가의 최신 규정을 반영하여 서비스를 제공합니다.',
  },
];
---

<section id="faq" class="py-20 md:py-24 bg-slate-50">
  <div class="max-w-4xl mx-auto px-6">
    <!-- Section Header -->
    <div class="text-center mb-16 md:mb-20">
      <h2 class="text-sm font-bold text-deep-blue uppercase tracking-widest mb-3">
        FAQ
      </h2>
      <h3 class="text-3xl md:text-4xl font-bold text-navy">
        자주 묻는 질문
      </h3>
    </div>

    <!-- FAQ Accordion -->
    <div class="space-y-4" id="faq-accordion">
      {faqs.map((faq, index) => (
        <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden" data-faq-item>
          <button
            class="w-full px-6 py-5 text-left flex items-center justify-between gap-4 hover:bg-slate-50 transition-colors"
            data-faq-trigger
            aria-expanded="false"
            aria-controls={`faq-answer-${index}`}
          >
            <span class="text-base md:text-lg font-bold text-navy pr-4">
              {faq.question}
            </span>
            <span class="material-symbols-outlined text-slate-400 flex-shrink-0 transition-transform" data-faq-icon>
              expand_more
            </span>
          </button>
          <div
            id={`faq-answer-${index}`}
            class="hidden px-6 pb-5"
            data-faq-content
          >
            <p class="text-slate-600 leading-relaxed text-sm md:text-base">
              {faq.answer}
            </p>
          </div>
        </div>
      ))}
    </div>

    <!-- Contact CTA -->
    <div class="mt-12 text-center">
      <p class="text-slate-600 mb-4">
        더 궁금한 점이 있으신가요?
      </p>
      <a
        href="#cta"
        class="inline-flex items-center gap-2 text-deep-blue font-bold hover:underline"
      >
        <span class="material-symbols-outlined text-lg">chat</span>
        1:1 상담 문의하기
      </a>
    </div>
  </div>
</section>

<script>
  const faqItems = document.querySelectorAll('[data-faq-item]');

  faqItems.forEach((item) => {
    const trigger = item.querySelector('[data-faq-trigger]');
    const content = item.querySelector('[data-faq-content]');
    const icon = item.querySelector('[data-faq-icon]');

    trigger?.addEventListener('click', () => {
      const isExpanded = trigger.getAttribute('aria-expanded') === 'true';

      // Close all other items
      faqItems.forEach((otherItem) => {
        const otherTrigger = otherItem.querySelector('[data-faq-trigger]');
        const otherContent = otherItem.querySelector('[data-faq-content]');
        const otherIcon = otherItem.querySelector('[data-faq-icon]');

        if (otherItem !== item) {
          otherTrigger?.setAttribute('aria-expanded', 'false');
          otherContent?.classList.add('hidden');
          otherIcon?.classList.remove('rotate-180');
        }
      });

      // Toggle current item
      trigger.setAttribute('aria-expanded', isExpanded ? 'false' : 'true');
      content?.classList.toggle('hidden');
      icon?.classList.toggle('rotate-180');
    });
  });
</script>

<style>
  [data-faq-icon] {
    transition: transform 0.2s ease;
  }
</style>
